"use strict";(self["webpackChunkflutter_buy_sell"]=self["webpackChunkflutter_buy_sell"]||[]).push([[544],{1228:function(e,t,r){r.r(t),r.d(t,{default:function(){return V}});var i=r(6252),s=r(3577),n={class:"sm:mt-32 lg:mt-36 mt-28 mb-16 w-mobile sm:w-median lg:w-large mx-auto"},o={class:"flex items-center"},a={key:0},l={key:1},u={class:"grid lg:grid-cols-12 sm:grid-cols-10 grid-cols-4 gap-4 sm:gap-3.5 lg:gap-4"},d={class:"col-span-4 sm:col-span-10 lg:col-span-12"},c={class:"mt-2 col-start-0 col-span-4 sm:col-span-3 lg:col-span-3"},f={class:""},m={key:0,class:"flex flex-row space-x-3.5 sm:space-x-0 space-y-0 sm:space-y-3.5 sm:flex-col",id:"sellerbtn"},h={key:1,class:"flex flex-row space-x-3.5 sm:space-x-0 space-y-0 sm:space-y-3.5 sm:flex-col",id:"buyerbtn"},_={class:"hidden md:block"},p={class:"mt-2 col-span-4 sm:col-span-7 lg:col-span-9"},y={key:0},w={id:"seller",class:"w-full flex flex-col lg:p-4 p-2 sm:p-3"},v={class:"w-full"},g={class:"flex flex-col"},k={key:1,id:"seller",class:"flex flex-row mb-16"},x={key:0,class:"w-full flex flex-col lg:p-4 p-2 sm:p-3"},b={key:1,class:"w-full flex flex-col lg:p-4 p-2 sm:p-3"},L={class:"flex flex-wrap"},C={class:"flex items-end justify-end"},Z={key:2,id:"buyer",class:"flex flex-row mb-16"},U={key:0,class:"w-full flex flex-col lg:p-4 p-2 sm:p-3"},P={key:1,class:"w-full"},D={class:"w-full flex flex-col lg:p-4 p-2 sm:p-3"},I={class:"flex items-end justify-end"};function S(e,t,r,S,O,M){var T=(0,i.up)("ps-label"),z=(0,i.up)("ps-route-link"),R=(0,i.up)("ps-icon"),W=(0,i.up)("ps-button"),E=(0,i.up)("ps-ad-sense"),A=(0,i.up)("chat-skeletor-item"),H=(0,i.up)("ps-label-caption-3"),$=(0,i.up)("chat-horizontal-item"),Y=(0,i.up)("chat-buyer-horizontal-item");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",o,[(0,i.Wm)(z,{to:{name:"dashboard"}},{default:(0,i.w5)((function(){return[(0,i.Wm)(T,{textColor:"text-secondary-400 dark:text-secondaryDark-grey ",class:"hover:underline cursor-pointer font-medium text-xxs"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("chat_list__home")),1)]})),_:1})]})),_:1}),(0,i.Wm)(R,{name:"rightArrow",class:"text-secondary-400 dark:text-secondaryDark-grey mx-0 sm:mx-2"}),(0,i.Wm)(z,{to:{name:"profile"}},{default:(0,i.w5)((function(){return[(0,i.Wm)(T,{textColor:"text-secondary-400 dark:text-secondaryDark-grey ",class:"hover:underline cursor-pointer font-medium text-xxs"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("list__account")),1)]})),_:1})]})),_:1}),(0,i.Wm)(R,{name:"rightArrow",class:"text-secondary-400 dark:text-secondaryDark-grey mx-0 sm:mx-2"}),S.isSellerFocus?((0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(T,{textColor:"text-secondary-400 dark:text-secondaryDark-grey ",class:"font-medium text-xxs"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("offer_list__offer_sent")),1)]})),_:1})])):((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(T,{textColor:"text-secondary-400 dark:text-secondaryDark-grey ",class:"font-medium text-xxs"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("offer_list__offer_received")),1)]})),_:1})]))]),(0,i._)("div",u,[(0,i._)("div",d,[(0,i.Wm)(T,{class:"mt-1 text-2xl lg:text-3xl font-medium"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("offer_list__offer")),1)]})),_:1})]),(0,i._)("div",c,[(0,i._)("div",f,[S.isSellerFocus?((0,i.wg)(),(0,i.iD)("div",m,[(0,i.Wm)(W,{textSize:"text-sm",class:"w-full",theme:"text-primary-500 dark:text-primaryDark-accent border border-primary-500 dark:border-primaryDark-accent",onClick:S.sellerClicked},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("offer_list__offer_sent")),1)]})),_:1},8,["onClick"]),(0,i.Wm)(W,{textSize:"text-sm",class:"w-full shadow-buttonShadow hover:shadow-none",onClick:S.buyerClicked},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("offer_list__offer_received")),1)]})),_:1},8,["onClick"])])):((0,i.wg)(),(0,i.iD)("div",h,[(0,i.Wm)(W,{textSize:"text-sm",class:"w-full shadow-buttonShadow hover:shadow-none",onClick:S.sellerClicked},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("offer_list__offer_sent")),1)]})),_:1},8,["onClick"]),(0,i.Wm)(W,{textSize:"text-sm",class:"w-full",theme:"text-primary-500 dark:text-primaryDark-accent border border-primary-500 dark:border-primaryDark-accent",onClick:S.buyerClicked},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("offer_list__offer_received")),1)]})),_:1},8,["onClick"])]))]),(0,i._)("div",_,[(0,i.Wm)(E,{adStyle:"display:inline-block;width:224px;height:300px",adFormat:"rectangle, vertical"})])]),(0,i._)("div",p,[1==S.ps_loading?((0,i.wg)(),(0,i.iD)("div",y,[(0,i._)("div",w,[(0,i._)("div",v,[(0,i._)("div",g,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(3,(function(e){return(0,i._)("div",{class:"w-full mt-2",key:e},[(0,i.Wm)(A)])})),64))])])])])):(0,i.kq)("",!0),S.isSellerFocus&&0==S.ps_loading?((0,i.wg)(),(0,i.iD)("div",k,[null==S.offerListProvider.offerList.data?((0,i.wg)(),(0,i.iD)("div",x,[(0,i.Wm)(R,{name:"chatalt",textColor:"text-secondary-400 dark:text-secondaryDark-grey",class:"mt-2 w-full mx-auto",w:"80",h:"80"}),(0,i.Wm)(H,{class:"text-center mb-2"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("offer_list__nothing_in_offer_sent")),1)]})),_:1})])):((0,i.wg)(),(0,i.iD)("div",b,[(0,i._)("div",L,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(S.offerListProvider.offerList.data,(function(e){return(0,i.wg)(),(0,i.iD)("div",{class:"mt-2 w-full",key:e.id},[(0,i.Wm)(z,{to:{name:"chat",query:{buyer_user_id:e.buyerUserId,seller_user_id:e.sellerUserId,item_name:e.item.title,item_id:e.itemId,item_image_name:e.item.defaultPhoto.imgPath,item_price:e.item.price,currency:e.item.itemCurrency.currencySymbol,condition:e.item.conditionOfItem.name,chat_flag:S.PsConst.CHAT_FROM_SELLER.toString(),is_sold_out:e.item.isSoldOut}}},{default:(0,i.w5)((function(){return[(0,i.Wm)($,{chathistory:e},null,8,["chathistory"])]})),_:2},1032,["to"])])})),128))]),(0,i._)("div",C,[0==S.offerListProvider.loading.value?((0,i.wg)(),(0,i.j4)(W,{key:0,class:(0,s.C_)(["shadow-buttonShadow hover:shadow-none w-36 mt-4",S.offerListProvider.isNoMoreRecord?"hidden":""]),onClick:S.loadMore},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("list__load_more")),1)]})),_:1},8,["onClick","class"])):((0,i.wg)(),(0,i.j4)(W,{key:1,class:"w-36 mt-4",disabled:!0},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("list__loading")),1)]})),_:1}))])]))])):0==S.ps_loading?((0,i.wg)(),(0,i.iD)("div",Z,[null==S.offerReceivedListProvider.offerList.data?((0,i.wg)(),(0,i.iD)("div",U,[(0,i.Wm)(R,{name:"chatalt",textColor:"text-secondary-400 dark:text-secondaryDark-grey",class:"mt-2 w-full mx-auto",w:"80",h:"80"}),(0,i.Wm)(H,{class:"text-center mb-2"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("offer_list__nothing_in_offer_received")),1)]})),_:1})])):((0,i.wg)(),(0,i.iD)("div",P,[(0,i._)("div",D,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(S.offerReceivedListProvider.offerList.data,(function(e){return(0,i.wg)(),(0,i.iD)("div",{class:"w-full mt-2",key:e.id},[(0,i.Wm)(z,{to:{name:"chat",query:{buyer_user_id:e.buyerUserId,seller_user_id:e.sellerUserId,item_name:e.item.title,item_id:e.itemId,item_image_name:e.item.defaultPhoto.imgPath,item_price:e.item.price,currency:e.item.itemCurrency.currencySymbol,condition:e.item.conditionOfItem.name,chat_flag:S.PsConst.CHAT_FROM_BUYER.toString(),is_sold_out:e.item.isSoldOut}}},{default:(0,i.w5)((function(){return[(0,i.Wm)(Y,{chathistory:e},null,8,["chathistory"])]})),_:2},1032,["to"])])})),128))]),(0,i._)("div",I,[0==S.offerReceivedListProvider.loading.value?((0,i.wg)(),(0,i.j4)(W,{key:0,class:(0,s.C_)(["shadow-buttonShadow hover:shadow-none w-36 mt-4",S.offerReceivedListProvider.isNoMoreRecord?"hidden":""]),onClick:S.loadMoreBuyer},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("list__load_more")),1)]})),_:1},8,["onClick","class"])):((0,i.wg)(),(0,i.j4)(W,{key:1,class:"w-36 mt-4",disabled:!0},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,s.zw)(e.$t("list__loading")),1)]})),_:1}))])]))])):(0,i.kq)("",!0)])])])}var O=r(655),M=r(2262),T=r(3824),z=r(6508),R=r(8237),W=r(6064),E=r(2776),A=r(4687),H=r(7069),$=r(9399),Y=r(7640),G=function(){function e(){this.userId="",this.returnType=""}return e.prototype.OfferParameterHolder=function(){this.userId="",this.returnType=""},e.prototype.getOfferSentList=function(){return this.userId="",this.returnType=Y.Z.CHAT_TYPE_SELLER,this},e.prototype.getOfferReceivedList=function(){return this.userId="",this.returnType=Y.Z.CHAT_TYPE_BUYER,this},e.prototype.resetParameterHolder=function(){return this.userId="",this.returnType="",this},e.prototype.toMap=function(){var e={};return e["user_id"]=this.userId,e["return_type"]=this.returnType,e},e}(),J=G,j=r(8564),B=r(6892),q=r(5224),F={name:"OfferListView",components:{PsButton:W.Z,PsLabel:A.Z,PsLabelCaption3:R.Z,PsIcon:z.Z,ChatHorizontalItem:j.Z,ChatBuyerHorizontalItem:B.Z,ChatSkeletorItem:q.Z,PsRouteLink:E.Z},setup:function(){var e=$.$.psValueHolder,t=(0,H.me)(),r=(0,H.me)(),i=e.getLoginUserId();null!=i&&""!=i&&i!=Y.Z.NO_LOGIN_USER||T.Z.push({name:"login"});var s=(new J).resetParameterHolder(),n=(0,M.iH)(!0),o=(0,M.iH)(!0);function a(){return(0,O.mG)(this,void 0,void 0,(function(){return(0,O.Jh)(this,(function(e){switch(e.label){case 0:return[4,t.resetOfferList(s)];case 1:return e.sent(),n.value=!1,[2]}}))}))}function l(){return(0,O.mG)(this,void 0,void 0,(function(){return(0,O.Jh)(this,(function(e){switch(e.label){case 0:return o.value=!0,n.value=!0,s.userId=i,s.returnType=Y.Z.CHAT_TYPE_SELLER,[4,t.resetOfferList(s)];case 1:return e.sent(),n.value=!1,[2]}}))}))}function u(){return(0,O.mG)(this,void 0,void 0,(function(){return(0,O.Jh)(this,(function(e){switch(e.label){case 0:return s.userId=i,s.returnType=Y.Z.CHAT_TYPE_SELLER,[4,t.loadOfferList(s)];case 1:return e.sent(),[2]}}))}))}function d(){return(0,O.mG)(this,void 0,void 0,(function(){return(0,O.Jh)(this,(function(e){switch(e.label){case 0:return s.userId=i,s.returnType=Y.Z.CHAT_TYPE_BUYER,[4,r.loadOfferList(s)];case 1:return e.sent(),[2]}}))}))}function c(){return(0,O.mG)(this,void 0,void 0,(function(){return(0,O.Jh)(this,(function(e){switch(e.label){case 0:return o.value=!1,n.value=!0,s.userId=i,s.returnType=Y.Z.CHAT_TYPE_BUYER,[4,r.resetOfferList(s)];case 1:return e.sent(),n.value=!1,[2]}}))}))}return s.userId=i,s.returnType=Y.Z.CHAT_TYPE_SELLER,a(),{loadMoreBuyer:d,loadMore:u,offerListProvider:t,offerReceivedListProvider:r,sellerClicked:l,buyerClicked:c,ps_loading:n,PsConst:Y.Z,isSellerFocus:o}}},N=r(8118);const K=(0,N.Z)(F,[["render",S]]);var V=K},7069:function(e,t,r){r.d(t,{me:function(){return _}});var i=r(655),s=r(2262),n=r(4578),o=r(2255),a=r(1597),l=r(6921),u=r(7432),d=r(5463),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="",t.itemId="",t.buyerUserId="",t.sellerUserId="",t.negoPrice="",t.buyerUnreadCount="",t.sellerUnreadCount="",t.isAccept="",t.addedDate="",t.isOffer="",t.offerAmount="",t.addedDateStr="",t.item=new u.Z,t.buyer=new d.Z,t.seller=new d.Z,t}return(0,i.ZT)(t,e),t.prototype.init=function(e,t,r,i,s,n,o,a,l,u,d,c,f,m,h){return this.id=e,this.itemId=t,this.buyerUserId=r,this.sellerUserId=i,this.negoPrice=s,this.buyerUnreadCount=n,this.sellerUnreadCount=o,this.isAccept=a,this.addedDate=l,this.isOffer=u,this.offerAmount=d,this.addedDateStr=c,this.item=f,this.buyer=m,this.seller=h,this},t.prototype.getPrimaryKey=function(){return this.id},t.prototype.toMap=function(e){var t={};return t["id"]=e.id,t["item_id"]=e.itemId,t["buyer_user_id"]=e.buyerUserId,t["seller_user_id"]=e.sellerUserId,t["nego_price"]=e.negoPrice,t["buyer_unread_count"]=e.buyerUnreadCount,t["seller_unread_count"]=e.sellerUnreadCount,t["is_accept"]=e.isAccept,t["added_date"]=e.addedDate,t["is_offer"]=e.isOffer,t["offer_amount"]=e.offerAmount,t["added_date_str"]=e.addedDateStr,t["item"]=(new u.Z).toMap(e.item),t["buyer"]=(new d.Z).toMap(e.buyer),t["seller"]=(new d.Z).toMap(e.seller),t},t.prototype.toMapList=function(e){for(var t=[],r=0;r<e.length;r++)null!=e[r]&&t.push(this.toMap(e[r]));return t},t.prototype.fromMap=function(e){return(new t).init(e.id,e.item_id,e.buyer_user_id,e.seller_user_id,e.nego_price,e.buyer_unread_count,e.seller_unread_count,e.is_accept,e.added_date,e.is_offer,e.offer_amount,e.added_date_str,(new u.Z).fromMap(e.item),(new d.Z).fromMap(e.buyer),(new d.Z).fromMap(e.seller))},t.prototype.fromMapList=function(e){var t=[];for(var r in e)null!=r&&t.push(this.fromMap(r));return t},t}(l.L),f=c,m=r(2317),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.offerList=(0,s.qj)(new a.Z),t.loading=(0,s.qj)({value:!1}),t.isNoMoreRecord=(0,s.qj)(!1),t.limit=30,t.offset=0,t}return(0,i.ZT)(t,e),t.prototype.makeOffer=function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return this.loading.value=!0,[4,o.Z.makeOffer(new f,e,t.toMap())];case 1:return r=i.sent(),this.loading.value=!1,[2,r]}}))}))},t.prototype.acceptOffer=function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return this.loading.value=!0,[4,o.Z.acceptedOffer(new f,e,t.toMap())];case 1:return r=i.sent(),this.loading.value=!1,[2,r]}}))}))},t.prototype.isUserBought=function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return this.loading.value=!0,[4,o.Z.isUsetBought(new m.Z,e,t.toMap())];case 1:return r=i.sent(),this.loading.value=!1,[2,r]}}))}))},t.prototype.markAsSold=function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return this.loading.value=!0,[4,o.Z.makeMarkAsSold(new m.Z,e,t.toMap())];case 1:return r=i.sent(),this.loading.value=!1,[2,r]}}))}))},t.prototype.markAsSoldFromDetail=function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return console.log(e),this.loading.value=!0,[4,o.Z.markSoldOutItem(new m.Z,e,t.toMap())];case 1:return r=i.sent(),this.loading.value=!1,[2,r]}}))}))},t.prototype.updateOfferList=function(e){var t;null!=this.offerList&&null!=this.offerList.data&&this.offerList.data.length>0&&0!=this.offset?(null!=e.data&&e.data.length>0?(t=this.offerList.data).push.apply(t,e.data):this.isNoMoreRecord=!0,this.offerList.code=e.code,this.offerList.status=e.status,this.offerList.message=e.message):this.offerList=e,null!=this.offerList&&null!=this.offerList.data&&(this.offset=this.offerList.data.length)},t.prototype.loadOfferList=function(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return this.loading.value=!0,[4,o.Z.getOfferList(new f,e.toMap())];case 1:return t=r.sent(),this.updateOfferList(t),this.loading.value=!1,[2]}}))}))},t.prototype.resetOfferList=function(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return this.offset=0,this.loading.value=!0,[4,o.Z.getOfferList(new f,e.toMap())];case 1:return t=r.sent(),this.updateOfferList(t),this.loading.value=!1,[2]}}))}))},t}(n.n),_=(Symbol("OfferProvider"),function(){return(0,s.qj)(new h)})}}]);
//# sourceMappingURL=OfferList.decffa83.js.map